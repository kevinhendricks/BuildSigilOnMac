# ***** IF USING QT6 *****

# Download pyside-setup-everywhere-src-6.4.3.tar.xz from https://download.qt.io/official_releases/QtForPython/


export MACOSX_DEPLOYMENT_TARGET=10.14

export MYDEST=~/Desktop/Next_Python/devpython/libraries/Frameworks
export MYQTHOME=~/Qt643
export PATH=${PATH}:${MYQTHOME}/bin
export PATH=${MYDEST}/Python.framework/Versions/3.11/bin:${PATH}

which qmake
which python3

# Prerequisites

# Your will need to have the packaging module installed on your python3
# pip3 install --upgrade packaging

# As well as a recent version of setuptools 
# (some newer versions have broken compatibility)
pip3 install setuptools==59.8.0

# note for PySide 6.5 you will need the latest version of setuptools

# You will need libclang (although macOS has this lib pre-installed, it can *not* 
# be found by Qt's cmake.  Qt has pre-build binaries ready to be used for each platform.
# I recommend storing it someplace *outside* the normal path such as /opt to help 
# prevent future any name clash issues.
# Download  libclang-release_130-based-macos-universal.7z from:
#       https://download.qt.io/development_releases/prebuilt/libclang/
# cd /opt
# and unpack libclang-release_130-based-macos-universal.7z in /opt to create /opt/libclang

# Tell the pyside6 build where to find it
export CLANG_INSTALL_DIR=/opt/libclang

# You should now be ready to build pyside6

unxz ./pyside-setup-everywhere-src-6.4.3.tar.xz
tar -xvf ./pyside-setup-everywhere-src-6.4.3.tar
cd pyside-setup-everywhere-src-6.4

python3 setup.py install --parallel=8 --build-tests

